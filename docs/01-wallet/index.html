<html>
  <head>
    <link rel="stylesheet" href="../assets/styles.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/base16/github.min.css" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <!-- <script src="//cdn.jsdelivr.net/gh/highlightjs/highlightjs-func@0.1.1/dist/func.min.js"></script> -->
    <script src="../assets/func.min.js"></script> <!-- local version due to bug in Safari -->
    <script src="../assets/helpers.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/png" sizes="32x32" href="../assets/favicon.png">
    <meta property="og:title" content="TON Wiki<">
    <title>TON Wiki</title>
  </head>
  <body class="page">
    <div class="options" data-options="network,library" ></div>
    <nav>
      <a class="alogo" href="https://ru.tonwiki.space/wiki/The_Open_Network">
        <div class="logo">
          <img src="../assets/logo.svg" />
          <p>TON Wiki</p>
        </div>
      </a>
    </nav>
    <div style="display: flex;" class="main">
      <div class="rightcol">
        <div class="menu">
          <div class="selectboxes">

            <div class="selectbox" data-select="network">
              <h3 class="selectbox-title">Сеть</h3>
            <div class="selectbox-selected">
              <h3></h3>
              <img src = '../assets/arrow-down.svg' />
            </div>
            <ul class="options">

                <li data-value="testnet" class="option">
                <div class="option-name">
                  <h4>Тестовая сеть</h4>
                  <a href="https://ton.org/docs/develop/smart-contracts/environment/testnet">docs</a>
                </div>
                <div class="option-small">
                  <p class="pros">Pros: free to use</p>
                  <p class="cons">Cons: less reliable, requires special wallets</p>
                </div>
                </li>

                <li data-value="mainnet" class="option">
                <div class="option-name">
                  <h4>Основаня сеть</h4>
                  <a href="https://tonmon.xyz/?orgId=1&amp;refresh=5m">docs</a>
                </div>
                <div class="option-small">
                  <p class="pros">Pros: very reliable, fast, works with all wallets</p>
                  <p class="cons">Cons: not free to use (but very cheap)</p>
                </div>
                </li>

            </ul>
            </div>

            <div class="selectbox" data-select="library">
              <h3 class="selectbox-title">Библиотека</h3>
            <div class="selectbox-selected">
              <h3></h3>
              <img src = '../assets/arrow-down.svg' />
            </div>
            <ul class="options">

                <li data-value="npmton" class="option">
                <div class="option-name">
                  <h4>npm ton (JavaScript)</h4>
                  <a href="https://github.com/ton-community/ton">docs</a>
                </div>
                <div class="option-small">
                  <p class="pros">Pros: more popular, full TypeScript support, elegant api</p>
                  <p class="cons">Cons: no support for all ton services</p>
                </div>
                </li>

                <li data-value="tonweb" class="option">
                <div class="option-name">
                  <h4>TonWeb (JavaScript)</h4>
                  <a href="https://github.com/toncenter/tonweb">docs</a>
                </div>
                <div class="option-small">
                  <p class="pros">Pros: maintained by core team, supports ton services</p>
                  <p class="cons">Cons: mediocre TypeScript support</p>
                </div>
                </li>

            </ul>
            </div>

          </div>
          <div class="more">
            <h3>Статьи и гайды</h3>
            <ul>
              <li><a data="tutorial-link" href="https://text.ru/spelling">Гайды и туториалы</a></li>
              <li><a data="tutorial-link" href="https://docs.google.com/document/d/1s2aJK38RzT7dzVqhyVj13ppCL48NTDjinX-XStH6kis/edit">Как подать заявку на ревард?</a></li>
              <li><a data="tutorial-link" href="https://docs.google.com/document/d/1nQ5sR3ZLlXQGXU9E1-5kDUK0ir4-P2oCWIRizBsO9_E/edit#heading=h.8rrhg4foirhc">Редполитика</a></li>
              <li><a data="tutorial-link" href="https://docs.google.com/spreadsheets/d/1svPnYAxneIWoeF8BeEkudGVYGyxJ2VY3LNspH2oeDkw/edit#gid=1203851821">TON Wiki INFO</a></li>
            </ul>
          </div>
          <div class="more">
            <h3>""Помощь""</h3>
            <ul>
              <li><a href="https://t.me/salomonru">Проблемы с гайдом?</a></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="posts">

         <div class="post" data-combination="mainnet-npmton">
            <h1 id="tonhelloworldpart1stepbystepguideforworkingwithyourfirsttonwallet">TON Wiki44444</h1>
<div class="author">
  <img class="face" src="../assets/authors/talkol.jpg" />
  <span>by salomonru</span>
  <div>
    <a class="social" rel="noreferrer" href="https://t.me/talkol"><svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="FollowCard_icon__0yJs8" style="fill: currentcolor;"><path fill-rule="evenodd" clip-rule="evenodd" d="M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12ZM12.4298 8.85893C11.2626 9.3444 8.92989 10.3492 5.43165 11.8733C4.86359 12.0992 4.56601 12.3202 4.53892 12.5363C4.49314 12.9015 4.95047 13.0453 5.57323 13.2411C5.65794 13.2678 5.74571 13.2954 5.83569 13.3246C6.44839 13.5238 7.27258 13.7568 7.70104 13.766C8.0897 13.7744 8.52348 13.6142 9.0024 13.2853C12.2709 11.079 13.9581 9.96381 14.0641 9.93977C14.1388 9.92281 14.2424 9.90148 14.3125 9.96385C14.3827 10.0262 14.3758 10.1443 14.3684 10.176C14.3231 10.3691 12.5279 12.0381 11.5989 12.9018C11.3093 13.171 11.1038 13.362 11.0618 13.4056C10.9678 13.5034 10.8719 13.5958 10.7797 13.6846C10.2105 14.2333 9.78367 14.6448 10.8034 15.3168C11.2934 15.6397 11.6855 15.9067 12.0767 16.1731C12.5039 16.4641 12.93 16.7543 13.4814 17.1157C13.6218 17.2078 13.756 17.3034 13.8866 17.3965C14.3838 17.751 14.8305 18.0694 15.3823 18.0186C15.703 17.9891 16.0342 17.6876 16.2024 16.7884C16.6 14.6632 17.3814 10.0585 17.562 8.16098C17.5778 7.99473 17.5579 7.78197 17.5419 7.68857C17.5259 7.59518 17.4925 7.46211 17.3711 7.3636C17.2273 7.24694 17.0054 7.22234 16.9061 7.22408C16.4548 7.23203 15.7623 7.47282 12.4298 8.85893Z"></path></svg></a>
  <a class="social" rel="noreferrer" href="https://twitter.com/koltal"><svg viewBox="0 0 22 18" fill="none" xmlns="http://www.w3.org/2000/svg" class="FollowCard_icon__0yJs8" style="fill: currentcolor;"><path d="M19.7477 4.45029C19.7611 4.64423 19.7611 4.83818 19.7611 5.03391C19.7611 10.998 15.2208 17.8764 6.91863 17.8764V17.8728C4.46614 17.8764 2.06459 17.1739 0 15.8494C0.356612 15.8923 0.715011 15.9137 1.0743 15.9146C3.10672 15.9164 5.08105 15.2344 6.67999 13.9787C4.74857 13.9421 3.05489 12.6827 2.46321 10.8443C3.13979 10.9748 3.83693 10.9479 4.501 10.7665C2.39529 10.3411 0.880358 8.49099 0.880358 6.34238C0.880358 6.32272 0.880358 6.30395 0.880358 6.28518C1.50778 6.63464 2.21028 6.82859 2.92886 6.85004C0.945602 5.52459 0.334268 2.8862 1.53191 0.823391C3.82352 3.64322 7.20463 5.35746 10.8342 5.53889C10.4704 3.97123 10.9674 2.32849 12.14 1.22648C13.9579 -0.482398 16.8171 -0.394809 18.5259 1.42221C19.5368 1.2229 20.5056 0.851992 21.3922 0.326458C21.0553 1.37127 20.3501 2.25878 19.4081 2.82274C20.3027 2.71728 21.1768 2.47775 22 2.1122C21.394 3.02026 20.6308 3.81124 19.7477 4.45029Z"></path></svg></a>
  </div>
</div>
<p><Основа блокчейна TON  is <a href="https://ton-blockchain.github.io/docs/ton.pdf">монета</a>-<a href="https://coinmarketcap.com/currencies/toncoin/">Toncoin</a> (previously labeled TonCoin). Эта криптовалюта используется для оплаты выполнения транзакций (газа), подобно ETH в блокчейне Ethereum. Если вы участвуете в экосистеме TON, скорее всего, у вас уже есть некоторое количество TON и, возможно, уже есть и сам кошелек.</p>
<p>В этом пошаговом руководстве мы создадим новый кошелек TON, используя одно из приложений кошелька, а затем попытаемся получить к нему доступ программным путем. Это может быть полезно, например, если вы планируете развернуть смарт-контракт с помощью кода или написать бота, который получает и отправляет TON. Мы также поймем, как кошельки работают в TON, и научимся ими пользоваться.</p>
<h2 id="mainnetortestnet">Основная или тестовая сеть</h2>
<p>Есть два варианта блокчейна TON, над которыми мы можем работать: <em>основная сеть<em> и <em>тестовая<em> сеть . Мейннет — это реальная вещь, где нам придется платить настоящую монету TON, чтобы совершать транзакции, а валидаторы с ставками будут выполнять наши транзакции и гарантировать очень высокий уровень безопасности — наш кошелек сможет делать опасные вещи, например, хранить большие суммы денег. не беспокоясь слишком сильно.</p>
<p>Testnet is a testing playground where the TON coin isn't real and is available for free. Naturally, testnet doesn't offer any real security so we would just use it to practice and see that our code is behaving as expected.</p>
<p>Testnet is often appealing to new developers because it's free, but experience shows that mainnet is actually more cost effective. Since testnet is a simulated environment, it requires special wallets, doesn't always behave like the real thing and is more prone to flakiness and random errors.</p>
<p>Since TON transactions are very cheap, about 1 cent per transaction, investing just $5 will be enough for hundreds of transactions. If you decide to work on mainnet you will have a significantly smoother experience. The time you save will definitely be worth more than the $5 you spent.</p>
<h2 id="step1createanewwalletusinganapp">Step 1: Create a new wallet using an app</h2>
<p>The simplest way to create a TON wallet is visit <a href="https://ton.org/wallets">https://ton.org/wallets</a> and choose one of the wallet apps from the list. This page explains the difference between custodial and non-custodial wallets. With a non-custodial wallet, you own the wallet and hold its private key by yourself. With a custodial wallet, you trust somebody else to do this for you.</p>
<p>The point of blockchain is being in control of your own funds, so we'll naturally choose a non-custodial option. They're all pretty similar, let's choose <a href="https://tonkeeper.com">Tonkeeper</a>. Go ahead and install the Tonkeeper app on your phone and run it.</p>
<p>If you don't already have a wallet connected to the app, tap on the "Set up wallet" button. We're going to create a new wallet. After a few seconds, your wallet is created and Tonkeeper displays your recovery phrase - the secret 24 words that give access to your wallet funds.</p>
<h2 id="step2backupthe24wordrecoveryphrase">Step 2: Backup the 24 word recovery phrase</h2>
<p>The recovery phrase is the key to accessing your wallet. Lose this phrase and you'll lose access to your funds. Give this phrase to somebody and they'll be able to take your funds. Keep this secret and backed up in a safe place.</p>
<p>Why 24 words? The OG crypto wallets, like Bitcoin in its early days, did not use word phrases, they used a bunch of random looking letters to specify your key. This didn't work so well because of typos. People would make a mistake with a single letter and not be able to access their funds. The idea behind words was to eliminate these mistakes and make the key easier to write down. These phrases are also called "mnemonics" because they act as <a href="https://en.wikipedia.org/wiki/Mnemonic">mnemonic</a> devices that make remembering them easier for humans.</p>
<h2 id="step3viewthewalletbyaddressinanexplorer">Step 3: View the wallet by address in an explorer</h2>
<p>If you click on the top left in the Tonkeeper app you will copy your wallet address. Alternatively, you can tap on the "Receive" button and see your wallet address displayed on screen.</p>
<p>It should look something like this:</p>
<pre><code class="console language-console">kQCJRglfvsQzAIF0UAhkYH6zkdGPFxVNYMH1nPTN_UpDqEFK
</code></pre>
<p>This wallet address isn't secret. You can share it with anyone you want and they won't be able to touch your funds. If you want anyone to send you some TON, you will need to give them this address. You should be aware though of some privacy matters. Wallet addresses in TON and most blockchains are <a href="https://en.wikipedia.org/wiki/Pseudonymization">pseudo-anonymous</a>, this means that they don't reveal your identity in the real world. If you tell somebody your address and they know you in the real world, they can now make the connection.</p>
<p>An explorer is a tool that allows you to query data from the chain and investigate TON addresses. There are many <a href="https://ton.app/explorers">explorers</a> to choose from. We're going to use Tonscan. Notice that mainnet and testnet have different explorers because those are different blockchains.</p>
<p>The mainnet version of Tonscan is available on <a href="https://tonscan.org">https://tonscan.org</a> - open it and input your wallet address.</p>
<p>If this wallet is indeed new and hasn't been used before, its Tonscan page should show "State" as "Inactive". When you look under the "Contract" tab, you should see the message "This address doesn't contain any data in blockchain - it was either never used or the contract was deleted."</p>
<p><img src="https://i.imgur.com/r1POqo9.png" width=600 /><br></p>
<p>Wallets in TON are also smart contracts! What this message means is that this smart contract hasn't been deployed yet and is therefore uninitialized. Deploying a smart contract means uploading its code onto the blockchain.</p>
<p>Another interesting thing to notice is that the address shown in Tonscan may be different from the address you typed in the search bar! There are multiple ways to encode the same TON address. You can use <a href="https://ton.org/address">https://ton.org/address</a> to see some additional representations and verify that they all share the same HEX public key.</p>
<h2 id="step4fundanddeployyourwalletcontract">Step 4: Fund and deploy your wallet contract</h2>
<p>As you can see in the explorer, the TON balance of our wallet is currently zero. We will need to fund our wallet by asking somebody to transfer some TON coins to our address. But wait… isn't this dangerous? How can we transfer some coins to the smart contract before it is deployed?</p>
<p>It turns out that this isn't a problem on TON. TON Blockchain maintains a list of accounts by address and stores the TON coin balance per address. Since our wallet smart contract has an address, it can have a balance, even before it has been deployed. Let's send 2 TON to our wallet address.</p>
<p>Refresh the explorer after the coins have been sent. As you can see, the balance of the smart contract is now 2 TON. And the "State" remains "Inactive", meaning it still hasn't been deployed.</p>
<p><img src="https://i.imgur.com/OdIRwvo.png" width=600 /><br></p>
<p>So when is your wallet smart contract being deployed? This would normally happen when you execute your first transaction - normally an outgoing transfer. This transaction is going to cost gas, so your balance cannot be zero to make it. Tonkeeper is going to deploy our smart contract automatically when we issue the first transfer.</p>
<p>Let's send 0.01 TON somewhere through Tonkeeper.</p>
<p>Refresh the explorer after approving the transaction. We can see that Tonkeeper indeed deployed our contract! The "State" is now "Active". The contract is no longer uninitialized and shows "wallet v4 r2" instead. Your contract may show a different version if Tonkeeper was updated since this tutorial was written.</p>
<p><img src="https://i.imgur.com/P9uuKaU.png" width=600 /><br></p>
<p>We can also see that we've also paid some gas for the deployment and transfer fees. After sending 0.01 TON we have 1.9764 TON remaining, meaning we paid a total of 0.0136 TON in fees, not too bad.</p>
<h2 id="step5walletscontractshaveversions">Step 5: Wallets contracts have versions</h2>
<p>The explorer shows that "Contract Type" is "wallet v4 r2" (or possibly a different version if your Tonkeeper was since updated). This refers to the version of our smart contract code. If our wallet smart contract was deployed with "v4" as its code, this means somewhere must exist "v1", "v2" and "v3".</p>
<p>This is indeed correct. Over time, the TON core team has <a href="https://github.com/toncenter/tonweb/blob/master/src/contract/wallet/WalletSources.md">published</a> multiple versions of the wallet contract - this is <a href="https://github.com/ton-blockchain/wallet-contract/tree/v4r2-stable">v4 source code</a>.</p>
<p>Let's look at this well known wallet address of <a href="https://tonscan.org/address/EQCD39VS5jcptHL8vMjEXrzGaRcCVYto7HUn4bpAOg8xqB2N">TON Foundation</a>. As you can see, it uses "wallet v3 r2" for its code. It was probably deployed before v4 was released.</p>
<p><img src="https://i.imgur.com/xsZbZ5X.png" width=600 /><br></p>
<p>Is it possible for the same secret mnemonic to have multiple wallets deployed with different versions? Definitely! This means that the same user may have multiple different wallets, each with its own unique address. This can get confusing. The next time you try to access your wallet using your secret mnemonic and you see a different address than you expect and a balance of zero, don't be alarmed. Nobody stole your money, you are probably just looking at the wrong wallet version.</p>
<h2 id="step6setupyourlocalmachineforcoding">Step 6: Set up your local machine for coding</h2>
<p>We're about to use code to access our wallet programmatically. Before we can start writing code, we need to install certain developer tools on our computer.</p>
<p>The libraries we're going to rely on are implemented in JavaScript. Accordingly, our scripts will be executed by an engine called Nodejs. The installation instructions are <a href="https://nodejs.org/">here</a>. We will need a fairly recent version of node like v16 or v17. You can verify your nodejs version by running <code>node -v</code> in terminal.</p>
<p>For a choice of IDE, you will need anything that has decent TypeScript support. I recommend <a href="https://code.visualstudio.com">Visual Studio Code</a> - it's free and open source.</p>
<p>Let's create a new directory for our project and support TypeScript. Open terminal in the project directory and run the following:</p>

         </div>

      </div>
    </div>
  </body>
</html>
